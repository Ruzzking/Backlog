<template>
  <div class="slds-card">



    <div class="slds-border_bottom">


      <div class="slds-page-header aw-header-background">
        <div class="slds-page-header__row">
          <div class="slds-page-header__col-title">
            <div class="slds-media">
              <div class="slds-media__figure">
                <span class="slds-icon_container slds-icon-standard-opportunity" title="opportunity">

                  <lightning-icon icon-name="standard:lead_list" alternative-text="Connected" size="small"
                    title="large size">
                  </lightning-icon>
                  <span class="slds-assistive-text">opportunity</span>
                </span>
              </div>
              <div class="slds-media__body">
                <div class="slds-page-header__name">
                  <div class="slds-page-header__name-title">
                    <h1>
                      <span class="slds-page-header__title slds-truncate"
                        title="Rohde Corp - 80,000 Widgets">BackLog</span>
                    </h1>
                  </div>
                </div>
                <p class="slds-page-header__name-meta">x items • Sorted by case priority • Update x time
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>



    <div class="slds-grid slds-m-top--x-small">
      <div class="slds-m-left--large" onkeyup={handleKeyUp}>
        <lightning-input class="aw-search" name="enter-search" variant="label-hidden" type="search()"
          placeholder="Search by Subject or Case Number" onchange={filterRecords}></lightning-input>
      </div>
      <div class="slds-m-left--medium aw-filters">
        <lightning-combobox variant="label-hidden" placeholder="Filter by Account" options={accountFilters} onchange={filterAccount}></lightning-combobox>
      </div>
      <div class="slds-m-left--medium aw-filters">
        <lightning-combobox variant="label-hidden" placeholder="Filter by Contact" options={contactFilters} onchange={filterContact}></lightning-combobox>
      </div>
      <div class="slds-m-left--medium aw-filters">
        <lightning-combobox variant="label-hidden" placeholder="Filter by Skill" options={skillsFilters}></lightning-combobox>
      </div>
    </div>


    <table aria-multiselectable="true"
      class="slds-table slds-table_bordered slds-table_fixed-layout slds-table_resizable-cols slds-m-top--x-small slds-table--striped"
      role="grid" aria-label="Example advanced table of Opportunities in actionable mode">
      <thead>


        <tr class="slds-line-height_reset">


          <th class="slds-text-align_right slds-cell_action-mode" scope="col" style="width:3.25rem">
            <span id="column-group-header" class="slds-assistive-text">Choose a row</span>
            <div class="slds-th__action slds-th__action_form">
              <div class="slds-checkbox">
                <input type="checkbox" name="options" id="checkbox-unique-id-297" value="checkbox-unique-id-297"
                  tabindex="0" aria-labelledby="check-select-all-label column-group-header" />
                <label class="slds-checkbox__label" for="checkbox-unique-id-297" id="check-select-all-label">
                  <span class="slds-checkbox_faux"></span>
                  <span class="slds-form-element__label slds-assistive-text">Select All</span>
                </label>
              </div>
            </div>
          </th>
          <th aria-label="Name" aria-sort="none"
            class="slds-is-resizable slds-is-sortable slds-cell_action-mode aw-col-tittle-1" scope="col">
            <a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="0">
              <span class="slds-assistive-text">Sort by: </span>
              <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                <span class="slds-truncate" title="Name">SUBJECT / CASE NUMBER</span>
                <span class="slds-icon_container slds-icon-utility-arrowdown">
                  <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon " aria-hidden="true">
                    <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown"></use>
                  </svg>
                </span>
              </div>
            </a>
            <div class="slds-resizable">
              <input type="range" aria-label="Name column width" class="slds-resizable__input slds-assistive-text"
                id="cell-resize-handle-540" max="1000" min="20" tabindex="0" />

            </div>
          </th>
          <th aria-label="Account Name" aria-sort="none"
            class="slds-is-resizable slds-is-sortable slds-cell_action-mode aw-col-tittle-1sp" scope="col">
            <a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="0">
              <span class="slds-assistive-text">Sort by: </span>
              <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                <span class="slds-truncate" title="Account Name">CONTACT / ACCOUNT</span>
                <span class="slds-icon_container slds-icon-utility-arrowdown">
                  <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon " aria-hidden="true">
                    <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown"></use>
                  </svg>
                </span>
              </div>
            </a>
            <div class="slds-resizable">
              <input type="range" aria-label="Account Name column width"
                class="slds-resizable__input slds-assistive-text" id="cell-resize-handle-541" max="1000" min="20"
                tabindex="0" />

            </div>
          </th>
          <th aria-label="Close Date" aria-sort="none"
            class="slds-is-resizable slds-is-sortable slds-cell_action-mode aw-col-tittle-1sp" scope="col">
            <a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="0">
              <span class="slds-assistive-text">Sort by: </span>
              <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                <span class="slds-truncate" title="Close Date">REASON / DEPARTURE DATE</span>
                <span class="slds-icon_container slds-icon-utility-arrowdown">
                  <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon " aria-hidden="true">
                    <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown"></use>
                  </svg>
                </span>
              </div>
            </a>
            <div class="slds-resizable">
              <input type="range" aria-label="Close Date column width" class="slds-resizable__input slds-assistive-text"
                id="cell-resize-handle-542" max="1000" min="20" tabindex="0" />

            </div>
          </th>
          <th aria-label="Stage" aria-sort="none"
            class="slds-is-resizable slds-is-sortable slds-cell_action-mode aw-col-tittle-1sp" scope="col">
            <a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="0">
              <span class="slds-assistive-text">Sort by: </span>
              <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                <span class="slds-truncate" title="Stage">SKILLS</span>
                <span class="slds-icon_container slds-icon-utility-arrowdown">
                  <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon " aria-hidden="true">
                    <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown"></use>
                  </svg>
                </span>
              </div>
            </a>
            <div class="slds-resizable">
              <input type="range" aria-label="Stage column width" class="slds-resizable__input slds-assistive-text"
                id="cell-resize-handle-543" max="1000" min="20" tabindex="0" />

            </div>
          </th>
          <th aria-label="Confidence" aria-sort="none"
            class="slds-is-resizable slds-is-sortable slds-cell_action-mode aw-col-tittle-2" scope="col">
            <a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="0">
              <span class="slds-assistive-text">Sort by: </span>
              <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                <span class="slds-truncate" title="Confidence">WAIT TIME</span>
                <span class="slds-icon_container slds-icon-utility-arrowdown">
                  <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon " aria-hidden="true">
                    <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown"></use>
                  </svg>
                </span>
              </div>
            </a>
            <div class="slds-resizable">
              <input type="range" aria-label="Confidence column width" class="slds-resizable__input slds-assistive-text"
                id="cell-resize-handle-544" max="1000" min="20" tabindex="0" />

            </div>
          </th>
          <th aria-label="Amount" aria-sort="none"
            class="slds-is-resizable slds-is-sortable slds-cell_action-mode aw-col-tittle-2" scope="col">
            <a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="0">
              <span class="slds-assistive-text">Sort by: </span>
              <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                <span class="slds-truncate" title="Amount">CASE PRIORITY</span>
                <span class="slds-icon_container slds-icon-utility-arrowdown">
                  <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon " aria-hidden="true">
                    <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown"></use>
                  </svg>
                </span>
              </div>
            </a>
            <div class="slds-resizable">
              <input type="range" aria-label="Amount column width" class="slds-resizable__input slds-assistive-text"
                id="cell-resize-handle-545" max="1000" min="20" tabindex="0" />

            </div>
          </th>
          <th aria-label="Contact" aria-sort="none"
            class="slds-is-resizable slds-is-sortable slds-cell_action-mode aw-col-tittle-2" scope="col">
            <a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="0">
              <span class="slds-assistive-text">Sort by: </span>
              <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                <span class="slds-truncate" title="Contact">SLA</span>
                <span class="slds-icon_container slds-icon-utility-arrowdown">
                  <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon " aria-hidden="true">
                    <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown"></use>
                  </svg>
                </span>
              </div>
            </a>
            <div class="slds-resizable">
              <input type="range" aria-label="Contact column width" class="slds-resizable__input slds-assistive-text"
                id="cell-resize-handle-547" max="1000" min="20" tabindex="0" />

            </div>
          </th>
        </tr>
      </thead>
      <tbody>

        <template for:each={filteredRecords} for:item="record">

          <tr aria-selected="false" class="slds-hint-parent" key={record.id}>
            <td class="slds-text-align_right slds-cell_action-mode" role="gridcell">
              <div class="slds-checkbox">
                <input type="checkbox" name="options" tabindex="0"
                  aria-labelledby="check-button-label-01 column-group-header" />
                <label class="slds-checkbox__label" for="checkbox-01">
                  <span class="slds-checkbox_faux"></span>
                  <span class="slds-form-element__label slds-assistive-text">Select item 1</span>
                </label>
              </div>
            </td>
            <td class="slds-cell_action-mode aw-td" role="gridcell">
              <div class="slds-grid">
                <div class="slds-grid slds-grid--vertical-align-center slds-m-right--small">
                  <lightning-icon icon-name="standard:case" alternative-text="Preview" size="small"
                    class="aw-icon-yellow"></lightning-icon>
                </div>
                <div>
                  <div class="slds-truncate" title=" ">{record.Subject}</div>
                  <div class="slds-truncate" title=" ">{record.CaseNumber}</div>
                </div>
              </div>
            </td>
            <td class="slds-cell_action-mode" role="gridcell">
              <div class="slds-grid">
                <div class="slds-truncate" title="">{record.Contact.Name}</div>

                <div if:true={record.Is_VIP__c} class="slds-truncate aw-is-vip" title="">VIP</div>

              </div>
              <div class="slds-truncate" title="">{record.Account.Name}</div>
            </td>
            <td class="slds-cell_action-mode" role="gridcell">
              <div class="slds-truncate" title="">{record.Reason}</div>
              <div class="slds-truncate" title=""><lightning-formatted-date-time value={record.Departure_Date__c}></lightning-formatted-date-time></div>
            </td>
            <td class="slds-cell_action-mode" role="gridcell">
              <div class="slds-truncate" title=" ">{record.skills}</div>
            </td>
            <td class="slds-cell_action-mode" role="gridcell">
              <div class="slds-truncate" title="">{record.waitTime}</div>
            </td>
            <td class="slds-cell_action-mode" role="gridcell">
              <div class="slds-truncate" title="">{record.casePriority}</div>
            </td>
            <td class="slds-cell_action-mode" role="gridcell">
              <div class="slds-truncate" title=" ">{record.sla}</div>
            </td>

          </tr>
        </template>
      </tbody>
    </table>




  </div>
  
</template>
